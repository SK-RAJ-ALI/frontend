{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{MapContainer,TileLayer,ImageOverlay}from'react-leaflet';import L from'leaflet';import'leaflet/dist/leaflet.css';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RALA_PNG_API='https://backend-vgio.onrender.com/api/rala-png';// Update to Render URL when deployed\nfunction App(){const[imageUrl,setImageUrl]=React.useState(null);const intervalRef=useRef();// Example bounds for CONUS, adjust as needed\nconst bounds=[[24.396308,-125.0],// Southwest\n[49.384358,-66.93457]// Northeast\n];useEffect(()=>{const fetchRALA=async()=>{try{// To avoid caching, add a timestamp\nsetImageUrl(\"\".concat(RALA_PNG_API,\"?t=\").concat(Date.now()));}catch(err){setImageUrl(null);}};fetchRALA();intervalRef.current=setInterval(fetchRALA,300000);// 5 min\nreturn()=>clearInterval(intervalRef.current);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Weather Radar Display (MRMS RALA)\"}),/*#__PURE__*/_jsxs(MapContainer,{center:[37.8,-96],zoom:4,scrollWheelZoom:true,style:{height:'80vh',width:'100%'},children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),imageUrl&&/*#__PURE__*/_jsx(ImageOverlay,{url:imageUrl,bounds:bounds,opacity:0.6})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useRef","MapContainer","TileLayer","ImageOverlay","L","jsx","_jsx","jsxs","_jsxs","RALA_PNG_API","App","imageUrl","setImageUrl","useState","intervalRef","bounds","fetchRALA","concat","Date","now","err","current","setInterval","clearInterval","className","children","center","zoom","scrollWheelZoom","style","height","width","attribution","url","opacity"],"sources":["E:/Weather Radar Display/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { MapContainer, TileLayer, ImageOverlay } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport './App.css';\r\n\r\nconst RALA_PNG_API = 'https://backend-vgio.onrender.com/api/rala-png'; // Update to Render URL when deployed\r\n\r\nfunction App() {\r\n  const [imageUrl, setImageUrl] = React.useState(null);\r\n  const intervalRef = useRef();\r\n\r\n  // Example bounds for CONUS, adjust as needed\r\n  const bounds = [\r\n    [24.396308, -125.0], // Southwest\r\n    [49.384358, -66.93457] // Northeast\r\n  ];\r\n\r\n  useEffect(() => {\r\n    const fetchRALA = async () => {\r\n      try {\r\n        // To avoid caching, add a timestamp\r\n        setImageUrl(`${RALA_PNG_API}?t=${Date.now()}`);\r\n      } catch (err) {\r\n        setImageUrl(null);\r\n      }\r\n    };\r\n    fetchRALA();\r\n    intervalRef.current = setInterval(fetchRALA, 300000); // 5 min\r\n    return () => clearInterval(intervalRef.current);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Weather Radar Display (MRMS RALA)</h1>\r\n      <MapContainer center={[37.8, -96]} zoom={4} scrollWheelZoom={true} style={{ height: '80vh', width: '100%' }}>\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        {imageUrl && <ImageOverlay url={imageUrl} bounds={bounds} opacity={0.6} />}\r\n      </MapContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,OAASC,YAAY,CAAEC,SAAS,CAAEC,YAAY,KAAQ,eAAe,CACrE,MAAO,CAAAC,CAAC,KAAM,SAAS,CACvB,MAAO,0BAA0B,CACjC,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,KAAM,CAAAC,YAAY,CAAG,gDAAgD,CAAE;AAEvE,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGd,KAAK,CAACe,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAAAC,WAAW,CAAGd,MAAM,CAAC,CAAC,CAE5B;AACA,KAAM,CAAAe,MAAM,CAAG,CACb,CAAC,SAAS,CAAE,CAAC,KAAK,CAAC,CAAE;AACrB,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAE;AAAA,CACxB,CAEDhB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF;AACAJ,WAAW,IAAAK,MAAA,CAAIR,YAAY,QAAAQ,MAAA,CAAMC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAE,CAAC,CAChD,CAAE,MAAOC,GAAG,CAAE,CACZR,WAAW,CAAC,IAAI,CAAC,CACnB,CACF,CAAC,CACDI,SAAS,CAAC,CAAC,CACXF,WAAW,CAACO,OAAO,CAAGC,WAAW,CAACN,SAAS,CAAE,MAAM,CAAC,CAAE;AACtD,MAAO,IAAMO,aAAa,CAACT,WAAW,CAACO,OAAO,CAAC,CACjD,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEb,KAAA,QAAKgB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBnB,IAAA,OAAAmB,QAAA,CAAI,mCAAiC,CAAI,CAAC,cAC1CjB,KAAA,CAACP,YAAY,EAACyB,MAAM,CAAE,CAAC,IAAI,CAAE,CAAC,EAAE,CAAE,CAACC,IAAI,CAAE,CAAE,CAACC,eAAe,CAAE,IAAK,CAACC,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAM,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAN,QAAA,eAC1GnB,IAAA,CAACJ,SAAS,EACR8B,WAAW,CAAC,yFAAyF,CACrGC,GAAG,CAAC,oDAAoD,CACzD,CAAC,CACDtB,QAAQ,eAAIL,IAAA,CAACH,YAAY,EAAC8B,GAAG,CAAEtB,QAAS,CAACI,MAAM,CAAEA,MAAO,CAACmB,OAAO,CAAE,GAAI,CAAE,CAAC,EAC9D,CAAC,EACZ,CAAC,CAEV,CAEA,cAAe,CAAAxB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}